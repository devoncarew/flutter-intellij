# Do not edit; instead, modify .travis_template.yml, and run './bin/plugin generate'.

language: java

jdk:
  - openjdk8

install: true

branches:
  only:
    - master

before_install:
  - wget --no-check-certificate https://www.apache.org/dist/ant/binaries/apache-ant-1.10.1-bin.tar.gz
  - tar -xzvf apache-ant-1.10.1-bin.tar.gz
  - export PATH=`pwd`/apache-ant-1.10.1/bin:$PATH
  - echo $(ant -version)

before_script:
  - # "export DISPLAY=:99.0"
  - # "sh -e /etc/init.d/xvfb start"
  - # sleep 3 # give xvfb some time to start
  - git clone --depth 1 https://github.com/flutter/flutter.git ../flutter
  - export PATH="$PATH":`pwd`/../flutter/bin:`pwd`/../flutter/bin/cache/dart-sdk/bin
  - flutter config --no-analytics
  - flutter doctor
  - export FLUTTER_SDK=`pwd`/../flutter

# execution
script: ./tool/travis.sh

# Testing product matrix; the values are generated from product-matrix.json.
env:
  - DART_BOT=true
  - CHECK_BOT=true
  - UNIT_TEST_BOT=true
  - IDEA_VERSION=3.4.1
  - IDEA_VERSION=3.5
  - IDEA_VERSION=3.6
  - IDEA_VERSION=2019.1.3
  - IDEA_VERSION=2019.2
